<svg width="1200" height="600" viewBox="0 0 1200 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 24px sans-serif; fill: #151927; }
      .subtitle { font: 16px sans-serif; fill: #666; }
      .label { font: 14px sans-serif; fill: #151927; }
      .small { font: 12px sans-serif; fill: #666; }
      .box { fill: #ffffff; stroke: #8023C3; stroke-width: 2; }
      .k8s-box { fill: #326CE5; stroke: #326CE5; stroke-width: 2; }
      .git-box { fill: #F05032; stroke: #F05032; stroke-width: 2; }
      .controller-box { fill: #8023C3; stroke: #8023C3; stroke-width: 2; }
      .arrow { stroke: #8023C3; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .white-text { fill: #ffffff; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#8023C3" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" class="title">GitOps Workflow for AI Resource Management</text>

  <!-- Step 1: Git Repository -->
  <g transform="translate(50, 80)">
    <rect class="git-box" x="0" y="0" width="200" height="120" rx="8"/>
    <text x="100" y="30" text-anchor="middle" class="label white-text">üìù Git Repository</text>
    <text x="100" y="55" text-anchor="middle" class="small white-text">Define CRD Manifests:</text>
    <text x="100" y="75" text-anchor="middle" class="small white-text">MCPServerCatalog</text>
    <text x="100" y="90" text-anchor="middle" class="small white-text">AgentCatalog</text>
    <text x="100" y="105" text-anchor="middle" class="small white-text">ModelCatalog</text>
  </g>

  <!-- Arrow 1 -->
  <path class="arrow" d="M 250 140 L 330 140"/>
  <text x="290" y="130" text-anchor="middle" class="small">git push</text>

  <!-- Step 2: CI/CD -->
  <g transform="translate(330, 80)">
    <rect class="box" x="0" y="0" width="200" height="120" rx="8"/>
    <text x="100" y="30" text-anchor="middle" class="label">‚öôÔ∏è CI/CD Pipeline</text>
    <text x="100" y="60" text-anchor="middle" class="small">Review & Approve</text>
    <text x="100" y="80" text-anchor="middle" class="small">Validate Manifests</text>
    <text x="100" y="100" text-anchor="middle" class="small">kubectl apply</text>
  </g>

  <!-- Arrow 2 -->
  <path class="arrow" d="M 530 140 L 610 140"/>
  <text x="570" y="130" text-anchor="middle" class="small">apply</text>

  <!-- Step 3: Kubernetes -->
  <g transform="translate(610, 80)">
    <rect class="k8s-box" x="0" y="0" width="200" height="120" rx="8"/>
    <text x="100" y="30" text-anchor="middle" class="label white-text">‚ò∏Ô∏è Kubernetes API</text>
    <text x="100" y="60" text-anchor="middle" class="small white-text">Store CRDs:</text>
    <text x="100" y="80" text-anchor="middle" class="small white-text">etcd backend</text>
    <text x="100" y="100" text-anchor="middle" class="small white-text">RBAC enforcement</text>
  </g>

  <!-- Arrow 3 -->
  <path class="arrow" d="M 710 200 L 710 260"/>
  <text x="750" y="230" text-anchor="start" class="small">watch</text>

  <!-- Step 4: Agent Registry Controller -->
  <g transform="translate(510, 260)">
    <rect class="controller-box" x="0" y="0" width="400" height="140" rx="8"/>
    <text x="200" y="30" text-anchor="middle" class="label white-text">üéØ Agent Registry Controller</text>

    <!-- Reconcilers -->
    <g transform="translate(20, 50)">
      <rect fill="rgba(255,255,255,0.2)" x="0" y="0" width="170" height="70" rx="4"/>
      <text x="85" y="20" text-anchor="middle" class="small white-text">Catalog Reconcilers:</text>
      <text x="85" y="38" text-anchor="middle" class="small white-text">‚Ä¢ MCPServerCatalog</text>
      <text x="85" y="52" text-anchor="middle" class="small white-text">‚Ä¢ AgentCatalog</text>
      <text x="85" y="66" text-anchor="middle" class="small white-text">‚Ä¢ SkillCatalog</text>
    </g>

    <g transform="translate(210, 50)">
      <rect fill="rgba(255,255,255,0.2)" x="0" y="0" width="170" height="70" rx="4"/>
      <text x="85" y="20" text-anchor="middle" class="small white-text">Discovery Reconcilers:</text>
      <text x="85" y="38" text-anchor="middle" class="small white-text">‚Ä¢ Auto-discover deployed</text>
      <text x="85" y="52" text-anchor="middle" class="small white-text">‚Ä¢ Index to catalog</text>
      <text x="85" y="66" text-anchor="middle" class="small white-text">‚Ä¢ Real-time status</text>
    </g>
  </g>

  <!-- Arrow 4 (left) -->
  <path class="arrow" d="M 510 330 L 380 330 L 380 440"/>
  <text x="320" y="380" text-anchor="start" class="small">deploy</text>

  <!-- Arrow 4 (right) -->
  <path class="arrow" d="M 910 330 L 1040 330 L 1040 440"/>
  <text x="1050" y="380" text-anchor="start" class="small">serve</text>

  <!-- Step 5: Deployed Resources -->
  <g transform="translate(250, 440)">
    <rect class="k8s-box" x="0" y="0" width="260" height="100" rx="8"/>
    <text x="130" y="30" text-anchor="middle" class="label white-text">üöÄ Deployed Resources</text>
    <text x="130" y="55" text-anchor="middle" class="small white-text">MCPServers (kmcp)</text>
    <text x="130" y="72" text-anchor="middle" class="small white-text">Agents (kagent)</text>
    <text x="130" y="89" text-anchor="middle" class="small white-text">Models (ModelConfig)</text>
  </g>

  <!-- Step 6: HTTP API + UI -->
  <g transform="translate(890, 440)">
    <rect class="box" x="0" y="0" width="260" height="100" rx="8"/>
    <text x="130" y="30" text-anchor="middle" class="label">üåê HTTP API + UI</text>
    <text x="130" y="55" text-anchor="middle" class="small">Browse catalogs</text>
    <text x="130" y="72" text-anchor="middle" class="small">Search resources</text>
    <text x="130" y="89" text-anchor="middle" class="small">Monitor deployments</text>
  </g>

  <!-- Benefits box -->
  <g transform="translate(50, 440)">
    <rect fill="#f0f0f0" stroke="#8023C3" stroke-width="2" x="0" y="0" width="180" height="100" rx="8"/>
    <text x="90" y="25" text-anchor="middle" class="label">‚úÖ Benefits</text>
    <text x="90" y="45" text-anchor="middle" class="small">Version Control</text>
    <text x="90" y="60" text-anchor="middle" class="small">Audit Trail</text>
    <text x="90" y="75" text-anchor="middle" class="small">Review Process</text>
    <text x="90" y="90" text-anchor="middle" class="small">Auto-Discovery</text>
  </g>
</svg>
