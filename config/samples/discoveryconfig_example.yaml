apiVersion: agentregistry.dev/v1alpha1
kind: DiscoveryConfig
metadata:
  name: multi-cluster-discovery
spec:
  environments:
    # Remote GKE cluster - Development environment
    - name: dev
      cluster:
        name: panda
        namespace: ops
        projectId: gfk-eco-ops-black-9258
        zone: europe-west3
        useWorkloadIdentity: true
      provider: gcp
      registry:
        url: europe-docker.pkg.dev/gfk-eco-shared-blue
        prefix: newron-dev
        useWorkloadIdentity: true
      discoveryEnabled: true
      namespaces:
        - ops
      resourceTypes:
        - MCPServer
        - Agent
        - ModelConfig
      labels:
        environment: dev
        managed-by: agentregistry

    # Remote GKE cluster - Staging environment
    - name: staging
      cluster:
        name: panda
        namespace: default
        projectId: gfk-eco-ops-black-9258
        zone: europe-west3
        useWorkloadIdentity: true
      provider: gcp
      registry:
        url: europe-docker.pkg.dev/gfk-eco-shared-blue
        prefix: newron-staging
        useWorkloadIdentity: true
      discoveryEnabled: true
      namespaces:
        - default
      resourceTypes:
        - MCPServer
        - Agent
        - ModelConfig
      labels:
        environment: staging
        managed-by: agentregistry

    # Remote GKE cluster - Production environment
    - name: prod
      cluster:
        name: panda
        namespace: kagent
        projectId: gfk-eco-ops-black-9258
        zone: europe-west3
        useWorkloadIdentity: true
      provider: gcp
      registry:
        url: europe-docker.pkg.dev/gfk-eco-shared-blue
        prefix: newron-prod
        useWorkloadIdentity: true
      discoveryEnabled: true
      namespaces:
        - kagent
      resourceTypes:
        - MCPServer
        - Agent
        - ModelConfig
      labels:
        environment: prod
        managed-by: agentregistry
